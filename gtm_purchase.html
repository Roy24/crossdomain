<html>
<head>	
	
<title>GTM purchase lp1</title>
	
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWD5VFS');</script>
<!-- End Google Tag Manager -->
	
<style>
.button {
   border-top: 1px solid #96d1f8;
   background: #68c4d9;
   background: -webkit-gradient(linear, left top, left bottom, from(#4d91f0), to(#68c4d9));
   background: -webkit-linear-gradient(top, #4d91f0, #68c4d9);
   background: -moz-linear-gradient(top, #4d91f0, #68c4d9);
   background: -ms-linear-gradient(top, #4d91f0, #68c4d9);
   background: -o-linear-gradient(top, #4d91f0, #68c4d9);
   padding: 5px 10px;
   -webkit-border-radius: 8px;
   -moz-border-radius: 8px;
   border-radius: 8px;
   -webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
   -moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
   box-shadow: rgba(0,0,0,1) 0 1px 0;
   text-shadow: rgba(0,0,0,.4) 0 1px 0;
   color: white;
   font-size: 14px;
   font-family: Helvetica, Arial, Sans-Serif;
   text-decoration: none;
   vertical-align: middle;
   }
.button:hover {
   border-top-color: #448dbd;
   background: #448dbd;
   color: #ededed;
   }
.button:active {
   border-top-color: #1b435e;
   background: #1b435e;
   }
	
</style>
	
<script>	
	  var ID = Math.random().toString(36).substr(2, 10);
		var value =parseInt(Math.random()*100);
// Send transaction data with a pageview if available
// when the page loads. Otherwise, use an event when the transaction
// data becomes available.
dataLayer.push({
  'event': 'purchase2',
  'ecommerce': {
    'purchase': {
      'actionField': {
        'id': ID+2,                         // Transaction ID. Required for purchases and refunds.
        'affiliation': 'Online Store',
        'revenue': value,                     // Total transaction value (incl. tax and shipping)
        'tax':'4.90',
        'shipping': '5.99',
        'coupon': 'SUMMER_SALE'
      },
      'products': [{                            // List of productFieldObjects.
        'name': 'Triblend Android T-Shirt',     // Name or ID is required.
        'id': '12345',
        'price': '15.25',
        'brand': 'Google',
        'category': 'Apparel',
        'variant': 'Gray',
        'quantity': 1,
        'coupon': ''                            // Optional fields may be omitted or set to empty string.
       },
       {
        'name': 'Donut Friday Scented T-Shirt',
        'id': '67890',
        'price': '33.75',
        'brand': 'Google',
        'category': 'Apparel',
        'variant': 'Black',
        'quantity': 1
       }]
    }
  }});
	
dataLayer.push({
  'event': 'purchase',
  "transaction_id": ID,
  "tax": 4.90,
  "shipping": 5.99,
  "coupon": "SUMMER_SALE",
  "currency": "EUR",
  'value': value,    
	
  'ecommerce': {
    'items': [{
      'item_name': 'Donut Friday Scented T-Shirt',
      'item_id': '67890',
      'price': '33.75',
      'item_brand': 'Google',
      'item_category': 'Apparel',
      'item_category2': 'Mens',
      'item_category3': 'Shirts',
      'item_category4': 'Tshirts',
      'affiliation': 'Google online store',
      'item_variant': 'Black',
      'quantity': '1',
        'coupon': 'coupon_legacy',
        'item_coupon': 'coupon_gold',                          // Optional fields may be omitted or set to empty string.
	    
      'new_awesome_dim': 'Apparel',
      'korra_is_the_best': 'Mens',
      'and_asami': 'Shirts',
      'horizon': 'Tshirts',
    }]
  }
});
	

/*dataLayer.push({
  'event': 'purchase',
  "transaction_id": ID+3,
  "tax": 4.90,
  "shipping": 5.99,
  "coupon": "SUMMER_SALE",
  "currency": "EUR",
  'value': value,    
	
  'ecommerce': {
    'items': [{
      'item_name': 'Not a DOnut',
      'item_id': '67890',
      'price': '100.75',
      'item_brand': 'Google',
      'item_category': 'Apparel',
      'item_category_2': 'Mens',
      'item_category_3': 'Shirts',
      'item_category_4': 'Tshirts',
      'affiliation': 'Google online store',
      'item_variant': 'Black',
      'quantity': '1',
        'coupon': 'coupon_legacy',
        'item_coupon': 'coupon_gold'                          // Optional fields may be omitted or set to empty string.
    }]
  }
});*/
	
	
dataLayer.push({
    'event': 'productClick',
    'ecommerce': {
      'click': {
        'actionField': {'list': 'Search Results'},      // Optional list property.
        'products': [{
          'name': 'Korra da best',                      // Name or ID is required.
          'id': 'korrasami',
          'price': 999,
          'brand': 'Avatar',
          'category': 'Da best',
          'variant': 'Bacl',
          'position': 1
         }]
       }
     }
  });
	

</script>
	
	<p></p>
	<div><a class="button" href="https://roy24.github.io/crossdomain/gtm_lp2.html">Click here please</a></div>
	
<pre>
	
	  var ID = Math.random().toString(36).substr(2, 10);
		var value =parseInt(Math.random()*100);
// Send transaction data with a pageview if available
// when the page loads. Otherwise, use an event when the transaction
// data becomes available.
dataLayer.push({
  'event': 'purchase2',
  'ecommerce': {
    'purchase': {
      'actionField': {
        'id': ID+2,                         // Transaction ID. Required for purchases and refunds.
        'affiliation': 'Online Store',
        'revenue': value,                     // Total transaction value (incl. tax and shipping)
        'tax':'4.90',
        'shipping': '5.99',
        'coupon': 'SUMMER_SALE'
      },
      'products': [{                            // List of productFieldObjects.
        'name': 'Triblend Android T-Shirt',     // Name or ID is required.
        'id': '12345',
        'price': '15.25',
        'brand': 'Google',
        'category': 'Apparel',
        'variant': 'Gray',
        'quantity': 1,
        'coupon': ''                            // Optional fields may be omitted or set to empty string.
       },
       {
        'name': 'Donut Friday Scented T-Shirt',
        'id': '67890',
        'price': '33.75',
        'brand': 'Google',
        'category': 'Apparel',
        'variant': 'Black',
        'quantity': 1
       }]
    }
  }});
	
dataLayer.push({
  'event': 'purchase',
  "transaction_id": ID,
  "tax": 4.90,
  "shipping": 5.99,
  "coupon": "SUMMER_SALE",
  "currency": "EUR",
  'value': value,    
	
  'ecommerce': {
    'items': [{
      'item_name': 'Donut Friday Scented T-Shirt',
      'item_id': '67890',
      'price': '33.75',
      'item_brand': 'Google',
      'item_category': 'Apparel',
      'item_category2': 'Mens',
      'item_category3': 'Shirts',
      'item_category4': 'Tshirts',
      'affiliation': 'Google online store',
      'item_variant': 'Black',
      'quantity': '1',
        'coupon': 'coupon_legacy',
        'item_coupon': 'coupon_gold',                          // Optional fields may be omitted or set to empty string.
	    
      'new_awesome_dim': 'Apparel',
      'korra_is_the_best': 'Mens',
      'and_asami': 'Shirts',
      'horizon': 'Tshirts',
    }]
  }
});
	

dataLayer.push({
  'event': 'purchase',
  "transaction_id": ID+3,
  "tax": 4.90,
  "shipping": 5.99,
  "coupon": "SUMMER_SALE",
  "currency": "EUR",
  'value': value,    
	
  'ecommerce': {
    'items': [{
      'item_name': 'Not a DOnut',
      'item_id': '67890',
      'price': '100.75',
      'item_brand': 'Google',
      'item_category': 'Apparel',
      'item_category_2': 'Mens',
      'item_category_3': 'Shirts',
      'item_category_4': 'Tshirts',
      'affiliation': 'Google online store',
      'item_variant': 'Black',
      'quantity': '1',
        'coupon': 'coupon_legacy',
        'item_coupon': 'coupon_gold'                          // Optional fields may be omitted or set to empty string.
    }]
  }
});
	
</pre>
</body>
