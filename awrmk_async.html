
<html>
<head>
<title>AW Async RMK</title>

<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion_async.js" charset="utf-8"></script>

</head>
<body>
<button id="ct">Click me please</button>

<script type="text/javascript">
window.addEventListener("load", gTracking, false);
function gTracking() {
	jQuery( '#ct' ).one( 'click', function() {
		window.google_trackConversion({
		      google_conversion_id: 123456789,
		      google_custom_params: {
			parameter1: 'abc123',
			parameter2: 29.99
		      },
		      google_remarketing_only: true
		    });
	});
}
</script>
	
<hr />
	
<pre>
<code>

window.addEventListener("load", gTracking, false);
function gTracking() {
	jQuery( '#ct' ).one( 'click', function() {
		window.google_trackConversion({
		      google_conversion_id: 123456789,
		      google_custom_params: {
			parameter1: 'abc123',
			parameter2: 29.99
		      },
		      google_remarketing_only: true
		    });
	});
}

</code>
</pre>
  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
	
	
	
	
<script>	
if(window.location.href.indexOf("checkout") > -1) {
    var transaction = [];
    var transactionId = document.getElementsByClassName('orderdetails')[0].innerText.match(/\d+/)[0].trim();

    var total = document.querySelector('#aggregation > div.totalamount.row > p > strong').innerText.replace('€','').trim();
    var productsList=[];
    for (var i = 0 ; i < document.querySelectorAll(".basket_details").length; i++) {
        var sku = document.getElementsByClassName('ordernumber')[i].childNodes[2].textContent.trim()
        var name =  document.getElementsByClassName('title')[i].innerText
        var price = document.getElementsByClassName('textright')[i+1].innerText.replace('€*','').trim();
        var quantity = document.querySelectorAll(".type-1>.qty-col")[i].innerText.match(/\d+/)[0].trim();
        var product = {
            'sku': sku,
            'name': name,
            'price': price,
            'quantity': quantity 
        };
        productsList.push(product);
    };

    transaction.push({
    'transactionId': transactionId,
    'transactionTotal': total,
    'transactionProducts': productsList
    });

    localStorage.removeItem('transactionData');
    localStorage.setItem('transactionData',JSON.stringify(transaction));
}
</script>
	

</body>
