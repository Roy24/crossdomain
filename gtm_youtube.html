<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    
    <title>GTM youtube</title>

    
    
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K2BSTQT');</script>
<!-- End Google Tag Manager -->


  </head>
  <body>
    <div class="container">
      <h1>Youtube video information with GTM</h1>
  <div>  
    <p>Add you super cool video here (or use the video provided as an example):</p>
    <input id="yURL" placeholder="Youtube share code ex: https://youtu.be/abvcXJ"></input>
    <button id="shareY">Get your super cool video in this super cool iFrame</button>
    </div>
  <div class="card hoverable">
    <div id="youtubeIframe" class="card-image">
  
    </div>
  
<div class="card-action">
  <p>See you super cool video information below (generated with the GTM Youtube trigger and Custom HTML).</p>
  <p>But first. <b>Click on your super cool video</b></p>
</div>
<div id="getMyText" class="card-content">
</div>
  
  </div>
    </div>
  
<script type="text/javascript">   
  
  window.addEventListener("load", gTracking, false); 
  function gTracking() {
    document.getElementById("shareY").addEventListener("click", spreadTheV);
    function spreadTheV() {
      var theI = document.getElementById("yURL").value;
      console.log(theI);
      var re = new RegExp(/^.*(youtu\.be\/|.+v=)([a-zA-Z0-9]+)$/);
      var regExp2 = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
      if (re.test(theI)){
        var result = re.exec(theI);
        console.log(result);
          document.getElementById("youtubeIframe").innerHTML = '<iframe width="100%" height="415" src="https://www.youtube.com/embed/' + result[2] +'" frameborder="0" allowfullscreen></iframe>';
      }
    }
  }
  </script>
  
  </body>
</html>
